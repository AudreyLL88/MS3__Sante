{% extends "base.html" %}
{% block content %}

 <!-- Main container/Page Title -->
<section class="container cocktail-section">
   <div class="cocktail-headline text-center">
      <h2>All Cocktails</h2>
   </div>
   <hr class="mb-2">

   <div class="row mt-2 mb-2">
       <div class="col-12">
           <ul class="nav justify-content-center">
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="#">Shaken</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('get_cocktails', category_name='Frozen') }}">Stirred</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Non-alcoholic</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Sour</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Highball</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Stiff</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Fizz</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Frozen</a>
                </li>
            </ul>
       </div>
   </div>
  
    <!-- Search box -->
   <div class="row mt-4">
       <div class="col-12 col-lg-4">
            <form action="{{ url_for('search') }}" method="post" class="align-item-center">
                <div class="input-group">
                    <input type="search" name="query" class="query form-control" placeholder="Search cocktail">
                    <span class="input-group-btn">
                        <button class="btn btn-warning text-white" type="submit"><i class="fa fa-search"></i></button>
                    </span>
                </div>
            </form>
            </div>
        </div>
                              
    <!-- Cocktail card -->
   {% if cocktails|length > 0 %}
    <div class="row">
                    {% for cocktail in cocktails %}
                        <div class="col-md-4">
                            <div class="cocktail-card shadow my-3">
                                <div class="cocktail-body text-center">
                                    <img src="{{ cocktail.cocktail_img }}" alt="" class="cocktail-img rounded">
                                    <h4 class="card-cocktail-title py-2 px-3">{{ cocktail.cocktail_name }}</h4>
                                    <p>{{ cocktail.category_name }}</p>
                                    <small class="card-cocktail-description px-3"><i class="fas fa-user mx-1"></i> {{ cocktail.created_by }}</small>
                                </div>
                                <div class="text-center mb-3">
                                <a href="{{url_for('get_cocktail', cocktail_id=cocktail._id)}}" class="btn btn-small btn-warning text-white">Try</a>
                                {% if session.user|lower == cocktail.created_by|lower %}
                                    <button class="btn btn-small btn-danger" data-toggle="modal" data-target="#delete_cocktail_{{cocktail._id}}">Delete</button>
                                    <a  href="{{ url_for('edit_cocktail', cocktail_id=cocktail._id)}}" class="btn  btn-small btn-success">Edit</a>
                                {% endif %}
                                </div>
                            </div>
                        </div>
                        <!-- Modal -->
                        <div class="modal fade" id="delete_cocktail_{{cocktail._id}}" tabindex="-1" role="dialog" aria-labelledby="delete_cocktail" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered " role="document">
                                <div class="modal-content rounded-0">
                                    <div class="modal-header">
                                        <h5 class="modal-title">Delete this cocktail?</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        Are you sure you want to delete this cocktail? This will be deleted forever.
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-warning text-white" data-dismiss="modal">Cancel</button>
                                        <a href="{{ url_for('delete_cocktail', cocktail_id=cocktail._id)}}" type="button"
                                                class="btn btn-danger">Delete</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>

     
       <!-- No results -->
      {% else %}
         <h2>No result found</h2>
   {% endif %}
  
</section>

{% endblock %}